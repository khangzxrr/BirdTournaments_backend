2023-03-07 17:08:32.153 +07:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-03-07 17:08:32.263 +07:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-03-07 17:08:32.276 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-03-07 17:08:32.281 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-03-07 17:08:32.305 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-03-07 17:08:32.322 +07:00 [INF] No migrations were applied. The database is already up to date.
2023-03-07 17:08:32.326 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-03-07 17:08:32.332 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2023-03-07 17:08:32.608 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Name], [p].[Priority]
FROM [Projects] AS [p]
2023-03-07 17:08:32.759 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[ContributorId], [t].[Description], [t].[IsDone], [t].[ProjectId], [t].[Title]
FROM [ToDoItems] AS [t]
2023-03-07 17:08:32.801 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name]
FROM [Contributors] AS [c]
2023-03-07 17:08:32.815 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[MinElo], [r].[Name]
FROM [Ranks] AS [r]
2023-03-07 17:08:32.835 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[Hash], [u].[Role], [u].[Salt], [u].[UserName], [u].[Verify]
FROM [Users] AS [u]
2023-03-07 17:08:35.696 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[Name]
FROM [BirdTypes] AS [b]
2023-03-07 17:08:35.714 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[Name]
FROM [Regions] AS [r]
2023-03-07 17:08:35.729 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[BirdTypeId], [c].[Date], [c].[ModeratorId], [c].[PlaceId], [c].[Status]
FROM [Competitions] AS [c]
2023-03-07 17:08:35.981 +07:00 [INF] Executed DbCommand (41ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [BirdTypes]
OUTPUT 1
WHERE [Id] = @p0;
DELETE FROM [BirdTypes]
OUTPUT 1
WHERE [Id] = @p1;
DELETE FROM [Competitions]
OUTPUT 1
WHERE [Id] = @p2;
DELETE FROM [Contributors]
OUTPUT 1
WHERE [Id] = @p3;
DELETE FROM [Contributors]
OUTPUT 1
WHERE [Id] = @p4;
DELETE FROM [Ranks]
OUTPUT 1
WHERE [Id] = @p5;
DELETE FROM [Ranks]
OUTPUT 1
WHERE [Id] = @p6;
DELETE FROM [Ranks]
OUTPUT 1
WHERE [Id] = @p7;
DELETE FROM [Ranks]
OUTPUT 1
WHERE [Id] = @p8;
DELETE FROM [Regions]
OUTPUT 1
WHERE [Id] = @p9;
DELETE FROM [Regions]
OUTPUT 1
WHERE [Id] = @p10;
DELETE FROM [ToDoItems]
OUTPUT 1
WHERE [Id] = @p11;
DELETE FROM [ToDoItems]
OUTPUT 1
WHERE [Id] = @p12;
DELETE FROM [ToDoItems]
OUTPUT 1
WHERE [Id] = @p13;
DELETE FROM [Users]
OUTPUT 1
WHERE [Id] = @p14;
DELETE FROM [Users]
OUTPUT 1
WHERE [Id] = @p15;
DELETE FROM [Users]
OUTPUT 1
WHERE [Id] = @p16;
DELETE FROM [BirdTypes]
OUTPUT 1
WHERE [Id] = @p17;
DELETE FROM [Projects]
OUTPUT 1
WHERE [Id] = @p18;
2023-03-07 17:08:36.043 +07:00 [ERR] An exception occurred in the database while saving changes for context type 'BirdTournaments.Infrastructure.Data.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The DELETE statement conflicted with the REFERENCE constraint "FK_Participants_Competitions_CompetitionId". The conflict occurred in database "BirdTournaments", table "dbo.Participants", column 'CompetitionId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:d9f086e4-3b18-447b-922b-b87e0c999222
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The DELETE statement conflicted with the REFERENCE constraint "FK_Participants_Competitions_CompetitionId". The conflict occurred in database "BirdTournaments", table "dbo.Participants", column 'CompetitionId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:d9f086e4-3b18-447b-922b-b87e0c999222
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-03-07 17:08:37.876 +07:00 [ERR] An error occurred seeding the DB. An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The DELETE statement conflicted with the REFERENCE constraint "FK_Participants_Competitions_CompetitionId". The conflict occurred in database "BirdTournaments", table "dbo.Participants", column 'CompetitionId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:d9f086e4-3b18-447b-922b-b87e0c999222
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at BirdTournaments.Infrastructure.Data.AppDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\Users\khang\source\repos\khangzxrr\BirdTournaments\src\BirdTournaments.Infrastructure\Data\AppDbContext.cs:line 48
   at BirdTournaments.Infrastructure.Data.AppDbContext.SaveChanges() in C:\Users\khang\source\repos\khangzxrr\BirdTournaments\src\BirdTournaments.Infrastructure\Data\AppDbContext.cs:line 66
   at BirdTournaments.Web.SeedData.PopulateTestData(AppDbContext dbContext) in C:\Users\khang\source\repos\khangzxrr\BirdTournaments\src\BirdTournaments.Web\SeedData.cs:line 132
   at BirdTournaments.Web.SeedData.Initialize(IServiceProvider serviceProvider) in C:\Users\khang\source\repos\khangzxrr\BirdTournaments\src\BirdTournaments.Web\SeedData.cs:line 92
   at Program.<Main>$(String[] args) in C:\Users\khang\source\repos\khangzxrr\BirdTournaments\src\BirdTournaments.Web\Program.cs:line 97
2023-03-07 17:08:38.062 +07:00 [INF] Now listening on: http://localhost:57679
2023-03-07 17:08:38.064 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-03-07 17:08:38.065 +07:00 [INF] Hosting environment: Development
2023-03-07 17:08:38.066 +07:00 [INF] Content root path: C:\Users\khang\source\repos\khangzxrr\BirdTournaments\src\BirdTournaments.Web
2023-03-07 17:08:38.902 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/ - -
2023-03-07 17:08:39.027 +07:00 [WRN] Failed to determine the https port for redirect.
2023-03-07 17:08:39.096 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/ - - - 404 0 - 193.1749ms
2023-03-07 17:12:09.405 +07:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-03-07 17:12:09.458 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-03-07 17:12:09.460 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-03-07 17:12:09.524 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2023-03-07 17:12:09.525 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-03-07 17:12:09.527 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-03-07 17:12:09.531 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-03-07 17:12:09.545 +07:00 [INF] Applying migration '20230307101202_participantManyToOneCompetition'.
2023-03-07 17:12:09.644 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [BirdTypes] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(100) NOT NULL,
    CONSTRAINT [PK_BirdTypes] PRIMARY KEY ([Id])
);
2023-03-07 17:12:09.645 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Contributors] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(100) NOT NULL,
    CONSTRAINT [PK_Contributors] PRIMARY KEY ([Id])
);
2023-03-07 17:12:09.647 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Projects] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(100) NOT NULL,
    [Priority] int NOT NULL,
    CONSTRAINT [PK_Projects] PRIMARY KEY ([Id])
);
2023-03-07 17:12:09.648 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Ranks] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(100) NOT NULL,
    [MinElo] int NOT NULL,
    CONSTRAINT [PK_Ranks] PRIMARY KEY ([Id])
);
2023-03-07 17:12:09.649 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Regions] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(100) NOT NULL,
    CONSTRAINT [PK_Regions] PRIMARY KEY ([Id])
);
2023-03-07 17:12:09.651 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] int NOT NULL IDENTITY,
    [UserName] nvarchar(100) NOT NULL,
    [Email] nvarchar(100) NOT NULL,
    [Hash] nvarchar(100) NOT NULL,
    [Salt] nvarchar(100) NOT NULL,
    [Verify] int NOT NULL,
    [Role] int NOT NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id])
);
2023-03-07 17:12:09.653 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [ToDoItems] (
    [Id] int NOT NULL IDENTITY,
    [Title] nvarchar(max) NOT NULL,
    [Description] nvarchar(max) NOT NULL,
    [ContributorId] int NULL,
    [IsDone] bit NOT NULL,
    [ProjectId] int NULL,
    CONSTRAINT [PK_ToDoItems] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_ToDoItems_Projects_ProjectId] FOREIGN KEY ([ProjectId]) REFERENCES [Projects] ([Id])
);
2023-03-07 17:12:09.655 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Places] (
    [Id] int NOT NULL IDENTITY,
    [Address] nvarchar(100) NOT NULL,
    [RegionId] int NOT NULL,
    CONSTRAINT [PK_Places] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Places_Regions_RegionId] FOREIGN KEY ([RegionId]) REFERENCES [Regions] ([Id]) ON DELETE CASCADE
);
2023-03-07 17:12:09.656 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [BirdOwners] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(100) NOT NULL,
    [Address] nvarchar(200) NOT NULL,
    [PhoneNumber] nvarchar(12) NOT NULL,
    [UserId] int NOT NULL,
    CONSTRAINT [PK_BirdOwners] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_BirdOwners_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2023-03-07 17:12:09.658 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Moderators] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(100) NOT NULL,
    [UserId] int NOT NULL,
    CONSTRAINT [PK_Moderators] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Moderators_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2023-03-07 17:12:09.668 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Birds] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(100) NOT NULL,
    [Image] nvarchar(100) NOT NULL,
    [Elo] int NOT NULL,
    [RankId] int NOT NULL,
    [BirdTypeId] int NOT NULL,
    [BirdOwnerId] int NULL,
    CONSTRAINT [PK_Birds] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Birds_BirdOwners_BirdOwnerId] FOREIGN KEY ([BirdOwnerId]) REFERENCES [BirdOwners] ([Id]),
    CONSTRAINT [FK_Birds_BirdTypes_BirdTypeId] FOREIGN KEY ([BirdTypeId]) REFERENCES [BirdTypes] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Birds_Ranks_RankId] FOREIGN KEY ([RankId]) REFERENCES [Ranks] ([Id]) ON DELETE CASCADE
);
2023-03-07 17:12:09.671 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Competitions] (
    [Id] int NOT NULL IDENTITY,
    [PlaceId] int NOT NULL,
    [Date] datetime2 NOT NULL,
    [BirdTypeId] int NOT NULL,
    [ModeratorId] int NOT NULL,
    [Status] int NOT NULL,
    CONSTRAINT [PK_Competitions] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Competitions_BirdTypes_BirdTypeId] FOREIGN KEY ([BirdTypeId]) REFERENCES [BirdTypes] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Competitions_Moderators_ModeratorId] FOREIGN KEY ([ModeratorId]) REFERENCES [Moderators] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Competitions_Places_PlaceId] FOREIGN KEY ([PlaceId]) REFERENCES [Places] ([Id]) ON DELETE CASCADE
);
2023-03-07 17:12:09.682 +07:00 [ERR] Failed executing DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Participants] (
    [Id] int NOT NULL IDENTITY,
    [BirdId] int NOT NULL,
    [BirdOwnerId] int NOT NULL,
    [EloGain] int NOT NULL,
    [SubmitUrl] nvarchar(max) NOT NULL,
    [Status] int NOT NULL,
    [CompetitionId] int NULL,
    CONSTRAINT [PK_Participants] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Participants_BirdOwners_BirdOwnerId] FOREIGN KEY ([BirdOwnerId]) REFERENCES [BirdOwners] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Participants_Birds_BirdId] FOREIGN KEY ([BirdId]) REFERENCES [Birds] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Participants_Competitions_CompetitionId] FOREIGN KEY ([CompetitionId]) REFERENCES [Competitions] ([Id]) ON DELETE CASCADE
);
2023-03-07 17:15:33.180 +07:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-03-07 17:15:33.231 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-03-07 17:15:33.233 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-03-07 17:15:33.305 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2023-03-07 17:15:33.306 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-03-07 17:15:33.307 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-03-07 17:15:33.311 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-03-07 17:15:33.324 +07:00 [INF] Applying migration '20230307101512_participantManyToOneCompetition'.
2023-03-07 17:15:33.424 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [BirdTypes] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(100) NOT NULL,
    CONSTRAINT [PK_BirdTypes] PRIMARY KEY ([Id])
);
2023-03-07 17:15:33.426 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Contributors] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(100) NOT NULL,
    CONSTRAINT [PK_Contributors] PRIMARY KEY ([Id])
);
2023-03-07 17:15:33.427 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Projects] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(100) NOT NULL,
    [Priority] int NOT NULL,
    CONSTRAINT [PK_Projects] PRIMARY KEY ([Id])
);
2023-03-07 17:15:33.429 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Ranks] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(100) NOT NULL,
    [MinElo] int NOT NULL,
    CONSTRAINT [PK_Ranks] PRIMARY KEY ([Id])
);
2023-03-07 17:15:33.430 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Regions] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(100) NOT NULL,
    CONSTRAINT [PK_Regions] PRIMARY KEY ([Id])
);
2023-03-07 17:15:33.431 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] int NOT NULL IDENTITY,
    [UserName] nvarchar(100) NOT NULL,
    [Email] nvarchar(100) NOT NULL,
    [Hash] nvarchar(100) NOT NULL,
    [Salt] nvarchar(100) NOT NULL,
    [Verify] int NOT NULL,
    [Role] int NOT NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id])
);
2023-03-07 17:15:33.433 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [ToDoItems] (
    [Id] int NOT NULL IDENTITY,
    [Title] nvarchar(max) NOT NULL,
    [Description] nvarchar(max) NOT NULL,
    [ContributorId] int NULL,
    [IsDone] bit NOT NULL,
    [ProjectId] int NULL,
    CONSTRAINT [PK_ToDoItems] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_ToDoItems_Projects_ProjectId] FOREIGN KEY ([ProjectId]) REFERENCES [Projects] ([Id])
);
2023-03-07 17:15:33.435 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Places] (
    [Id] int NOT NULL IDENTITY,
    [Address] nvarchar(100) NOT NULL,
    [RegionId] int NOT NULL,
    CONSTRAINT [PK_Places] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Places_Regions_RegionId] FOREIGN KEY ([RegionId]) REFERENCES [Regions] ([Id]) ON DELETE CASCADE
);
2023-03-07 17:15:33.436 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [BirdOwners] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(100) NOT NULL,
    [Address] nvarchar(200) NOT NULL,
    [PhoneNumber] nvarchar(12) NOT NULL,
    [UserId] int NOT NULL,
    CONSTRAINT [PK_BirdOwners] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_BirdOwners_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2023-03-07 17:15:33.437 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Moderators] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(100) NOT NULL,
    [UserId] int NOT NULL,
    CONSTRAINT [PK_Moderators] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Moderators_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2023-03-07 17:15:33.439 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Birds] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(100) NOT NULL,
    [Image] nvarchar(100) NOT NULL,
    [Elo] int NOT NULL,
    [RankId] int NOT NULL,
    [BirdTypeId] int NOT NULL,
    [BirdOwnerId] int NULL,
    CONSTRAINT [PK_Birds] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Birds_BirdOwners_BirdOwnerId] FOREIGN KEY ([BirdOwnerId]) REFERENCES [BirdOwners] ([Id]),
    CONSTRAINT [FK_Birds_BirdTypes_BirdTypeId] FOREIGN KEY ([BirdTypeId]) REFERENCES [BirdTypes] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Birds_Ranks_RankId] FOREIGN KEY ([RankId]) REFERENCES [Ranks] ([Id]) ON DELETE CASCADE
);
2023-03-07 17:15:33.839 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Competitions] (
    [Id] int NOT NULL IDENTITY,
    [PlaceId] int NOT NULL,
    [Date] datetime2 NOT NULL,
    [BirdTypeId] int NOT NULL,
    [ModeratorId] int NOT NULL,
    [Status] int NOT NULL,
    CONSTRAINT [PK_Competitions] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Competitions_BirdTypes_BirdTypeId] FOREIGN KEY ([BirdTypeId]) REFERENCES [BirdTypes] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Competitions_Moderators_ModeratorId] FOREIGN KEY ([ModeratorId]) REFERENCES [Moderators] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Competitions_Places_PlaceId] FOREIGN KEY ([PlaceId]) REFERENCES [Places] ([Id]) ON DELETE CASCADE
);
2023-03-07 17:15:33.842 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Participants] (
    [Id] int NOT NULL IDENTITY,
    [BirdId] int NOT NULL,
    [BirdOwnerId] int NOT NULL,
    [EloGain] int NOT NULL,
    [SubmitUrl] nvarchar(max) NOT NULL,
    [Status] int NOT NULL,
    [CompetitionId] int NULL,
    CONSTRAINT [PK_Participants] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Participants_BirdOwners_BirdOwnerId] FOREIGN KEY ([BirdOwnerId]) REFERENCES [BirdOwners] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Participants_Birds_BirdId] FOREIGN KEY ([BirdId]) REFERENCES [Birds] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Participants_Competitions_CompetitionId] FOREIGN KEY ([CompetitionId]) REFERENCES [Competitions] ([Id]) ON DELETE NO ACTION
);
2023-03-07 17:15:33.843 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_BirdOwners_UserId] ON [BirdOwners] ([UserId]);
2023-03-07 17:15:33.843 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Birds_BirdOwnerId] ON [Birds] ([BirdOwnerId]);
2023-03-07 17:15:33.844 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Birds_BirdTypeId] ON [Birds] ([BirdTypeId]);
2023-03-07 17:15:33.846 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Birds_RankId] ON [Birds] ([RankId]);
2023-03-07 17:15:33.847 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Competitions_BirdTypeId] ON [Competitions] ([BirdTypeId]);
2023-03-07 17:15:33.848 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Competitions_ModeratorId] ON [Competitions] ([ModeratorId]);
2023-03-07 17:15:33.849 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Competitions_PlaceId] ON [Competitions] ([PlaceId]);
2023-03-07 17:15:33.850 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Moderators_UserId] ON [Moderators] ([UserId]);
2023-03-07 17:15:33.851 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Participants_BirdId] ON [Participants] ([BirdId]);
2023-03-07 17:15:33.851 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Participants_BirdOwnerId] ON [Participants] ([BirdOwnerId]);
2023-03-07 17:15:33.852 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Participants_CompetitionId] ON [Participants] ([CompetitionId]);
2023-03-07 17:15:33.853 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Places_RegionId] ON [Places] ([RegionId]);
2023-03-07 17:15:33.854 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_ToDoItems_ProjectId] ON [ToDoItems] ([ProjectId]);
2023-03-07 17:15:33.856 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230307101512_participantManyToOneCompetition', N'7.0.1');
2023-03-07 17:15:59.435 +07:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-03-07 17:15:59.509 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-03-07 17:15:59.514 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-03-07 17:15:59.517 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-03-07 17:15:59.538 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-03-07 17:15:59.559 +07:00 [INF] No migrations were applied. The database is already up to date.
2023-03-07 17:15:59.564 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-03-07 17:15:59.579 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2023-03-07 17:15:59.892 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Name], [p].[Priority]
FROM [Projects] AS [p]
2023-03-07 17:15:59.907 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[ContributorId], [t].[Description], [t].[IsDone], [t].[ProjectId], [t].[Title]
FROM [ToDoItems] AS [t]
2023-03-07 17:15:59.915 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name]
FROM [Contributors] AS [c]
2023-03-07 17:15:59.924 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[MinElo], [r].[Name]
FROM [Ranks] AS [r]
2023-03-07 17:15:59.933 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[Hash], [u].[Role], [u].[Salt], [u].[UserName], [u].[Verify]
FROM [Users] AS [u]
2023-03-07 17:16:01.830 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[Name]
FROM [BirdTypes] AS [b]
2023-03-07 17:16:01.838 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[Name]
FROM [Regions] AS [r]
2023-03-07 17:16:01.848 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[BirdId], [p].[BirdOwnerId], [p].[CompetitionId], [p].[EloGain], [p].[Status], [p].[SubmitUrl]
FROM [Participants] AS [p]
2023-03-07 17:16:01.858 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[BirdTypeId], [c].[Date], [c].[ModeratorId], [c].[PlaceId], [c].[Status]
FROM [Competitions] AS [c]
2023-03-07 17:16:02.057 +07:00 [INF] Executed DbCommand (44ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Contributors] USING (
VALUES (@p0, 0),
(@p1, 1)) AS i ([Name], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Name])
VALUES (i.[Name])
OUTPUT INSERTED.[Id], i._Position;
2023-03-07 17:16:02.226 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (Size = 100), @p2='?' (Size = 100), @p3='?' (Size = 100), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Size = 100), @p7='?' (DbType = Int32), @p8='?' (Size = 100), @p9='?' (DbType = Int32), @p10='?' (Size = 100), @p11='?' (DbType = Int32), @p12='?' (Size = 100), @p13='?' (Size = 100), @p14='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
MERGE [BirdTypes] USING (
VALUES (@p0, 0),
(@p1, 1),
(@p2, 2)) AS i ([Name], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Name])
VALUES (i.[Name])
OUTPUT INSERTED.[Id], i._Position;
INSERT INTO [Projects] ([Name], [Priority])
OUTPUT INSERTED.[Id]
VALUES (@p3, @p4);
MERGE [Ranks] USING (
VALUES (@p5, @p6, 0),
(@p7, @p8, 1),
(@p9, @p10, 2),
(@p11, @p12, 3)) AS i ([MinElo], [Name], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([MinElo], [Name])
VALUES (i.[MinElo], i.[Name])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Regions] USING (
VALUES (@p13, 0),
(@p14, 1)) AS i ([Name], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Name])
VALUES (i.[Name])
OUTPUT INSERTED.[Id], i._Position;
2023-03-07 17:16:02.246 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@p15='?' (DbType = Int32), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (DbType = Int32), @p19='?' (Size = 4000), @p20='?' (DbType = Int32), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (DbType = Int32), @p24='?' (Size = 4000), @p25='?' (DbType = Int32), @p26='?' (Size = 4000), @p27='?' (DbType = Boolean), @p28='?' (DbType = Int32), @p29='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [ToDoItems] USING (
VALUES (@p15, @p16, @p17, @p18, @p19, 0),
(@p20, @p21, @p22, @p23, @p24, 1),
(@p25, @p26, @p27, @p28, @p29, 2)) AS i ([ContributorId], [Description], [IsDone], [ProjectId], [Title], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ContributorId], [Description], [IsDone], [ProjectId], [Title])
VALUES (i.[ContributorId], i.[Description], i.[IsDone], i.[ProjectId], i.[Title])
OUTPUT INSERTED.[Id], i._Position;
2023-03-07 17:16:02.315 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (DbType = Int32), @p2='?' (Size = 100), @p3='?' (DbType = Int32), @p4='?' (Size = 100), @p5='?' (Size = 100), @p6='?' (DbType = Int32), @p7='?' (Size = 100), @p8='?' (Size = 100), @p9='?' (DbType = Int32), @p10='?' (Size = 100), @p11='?' (Size = 100), @p12='?' (DbType = Int32), @p13='?' (Size = 100), @p14='?' (Size = 100), @p15='?' (DbType = Int32), @p16='?' (Size = 100), @p17='?' (Size = 100), @p18='?' (DbType = Int32), @p19='?' (Size = 100), @p20='?' (Size = 100), @p21='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
MERGE [Places] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1)) AS i ([Address], [RegionId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Address], [RegionId])
VALUES (i.[Address], i.[RegionId])
OUTPUT INSERTED.[Id], i._Position;
MERGE [Users] USING (
VALUES (@p4, @p5, @p6, @p7, @p8, @p9, 0),
(@p10, @p11, @p12, @p13, @p14, @p15, 1),
(@p16, @p17, @p18, @p19, @p20, @p21, 2)) AS i ([Email], [Hash], [Role], [Salt], [UserName], [Verify], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Email], [Hash], [Role], [Salt], [UserName], [Verify])
VALUES (i.[Email], i.[Hash], i.[Role], i.[Salt], i.[UserName], i.[Verify])
OUTPUT INSERTED.[Id], i._Position;
2023-03-07 17:16:02.362 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (Size = 200), @p1='?' (Size = 100), @p2='?' (Size = 12), @p3='?' (DbType = Int32), @p4='?' (Size = 200), @p5='?' (Size = 100), @p6='?' (Size = 12), @p7='?' (DbType = Int32), @p8='?' (Size = 100), @p9='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
MERGE [BirdOwners] USING (
VALUES (@p0, @p1, @p2, @p3, 0),
(@p4, @p5, @p6, @p7, 1)) AS i ([Address], [Name], [PhoneNumber], [UserId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Address], [Name], [PhoneNumber], [UserId])
VALUES (i.[Address], i.[Name], i.[PhoneNumber], i.[UserId])
OUTPUT INSERTED.[Id], i._Position;
INSERT INTO [Moderators] ([Name], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p8, @p9);
2023-03-07 17:16:02.397 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 100), @p4='?' (Size = 100), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (Size = 100), @p10='?' (Size = 100), @p11='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Birds] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, 0),
(@p6, @p7, @p8, @p9, @p10, @p11, 1)) AS i ([BirdOwnerId], [BirdTypeId], [Elo], [Image], [Name], [RankId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([BirdOwnerId], [BirdTypeId], [Elo], [Image], [Name], [RankId])
VALUES (i.[BirdOwnerId], i.[BirdTypeId], i.[Elo], i.[Image], i.[Name], i.[RankId])
OUTPUT INSERTED.[Id], i._Position;
2023-03-07 17:16:02.431 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Competitions] ([BirdTypeId], [Date], [ModeratorId], [PlaceId], [Status])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2023-03-07 17:16:02.462 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Participants] ([BirdId], [BirdOwnerId], [CompetitionId], [EloGain], [Status], [SubmitUrl])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2023-03-07 17:16:02.622 +07:00 [INF] Now listening on: http://localhost:57679
2023-03-07 17:16:02.626 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-03-07 17:16:02.627 +07:00 [INF] Hosting environment: Development
2023-03-07 17:16:02.629 +07:00 [INF] Content root path: C:\Users\khang\source\repos\khangzxrr\BirdTournaments\src\BirdTournaments.Web
2023-03-07 17:16:03.295 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/ - -
2023-03-07 17:16:03.369 +07:00 [WRN] Failed to determine the https port for redirect.
2023-03-07 17:16:03.402 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/ - - - 404 0 - 110.9282ms
2023-03-07 17:16:13.314 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/swagger/index.html - -
2023-03-07 17:16:13.499 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/_framework/aspnetcore-browser-refresh.js - -
2023-03-07 17:16:13.500 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/swagger/index.html - - - 200 - text/html;charset=utf-8 186.9221ms
2023-03-07 17:16:13.503 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/_framework/aspnetcore-browser-refresh.js - - - 200 12008 application/javascript;+charset=utf-8 4.1113ms
2023-03-07 17:16:13.508 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/_vs/browserLink - -
2023-03-07 17:16:13.522 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 14.3103ms
2023-03-07 17:16:13.618 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/swagger/v1/swagger.json - -
2023-03-07 17:16:13.727 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 108.4310ms
2023-03-07 17:16:17.725 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/Competitions - -
2023-03-07 17:16:17.731 +07:00 [INF] Executing endpoint 'BirdTournaments.Web.Endpoints.CompetitionEndpoints.List.HandleAsync (BirdTournaments.Web)'
2023-03-07 17:16:17.760 +07:00 [INF] Route matched with {action = "Handle", controller = "List"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BirdTournaments.Web.Endpoints.CompetitionEndpoints.CompetitionListResponse]] HandleAsync(System.Threading.CancellationToken) on controller BirdTournaments.Web.Endpoints.CompetitionEndpoints.List (BirdTournaments.Web).
2023-03-07 17:16:17.853 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[BirdTypeId], [c].[Date], [c].[ModeratorId], [c].[PlaceId], [c].[Status]
FROM [Competitions] AS [c]
2023-03-07 17:26:03.345 +07:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-03-07 17:26:03.419 +07:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-03-07 17:26:03.425 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-03-07 17:26:03.428 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-03-07 17:26:03.445 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-03-07 17:26:03.463 +07:00 [INF] No migrations were applied. The database is already up to date.
2023-03-07 17:26:03.466 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-03-07 17:26:03.470 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2023-03-07 17:26:03.695 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Name], [p].[Priority]
FROM [Projects] AS [p]
2023-03-07 17:26:03.774 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[ContributorId], [t].[Description], [t].[IsDone], [t].[ProjectId], [t].[Title]
FROM [ToDoItems] AS [t]
2023-03-07 17:26:03.810 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name]
FROM [Contributors] AS [c]
2023-03-07 17:26:03.824 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[MinElo], [r].[Name]
FROM [Ranks] AS [r]
2023-03-07 17:26:03.844 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[Hash], [u].[Role], [u].[Salt], [u].[UserName], [u].[Verify]
FROM [Users] AS [u]
2023-03-07 17:26:07.131 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[Name]
FROM [BirdTypes] AS [b]
2023-03-07 17:26:07.145 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[Name]
FROM [Regions] AS [r]
2023-03-07 17:26:07.159 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[BirdId], [p].[BirdOwnerId], [p].[CompetitionId], [p].[EloGain], [p].[Status], [p].[SubmitUrl]
FROM [Participants] AS [p]
2023-03-07 17:26:07.183 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[BirdTypeId], [c].[Date], [c].[ModeratorId], [c].[PlaceId], [c].[Status]
FROM [Competitions] AS [c]
2023-03-07 17:26:07.447 +07:00 [INF] Executed DbCommand (127ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [BirdTypes]
OUTPUT 1
WHERE [Id] = @p0;
DELETE FROM [BirdTypes]
OUTPUT 1
WHERE [Id] = @p1;
DELETE FROM [Contributors]
OUTPUT 1
WHERE [Id] = @p2;
DELETE FROM [Contributors]
OUTPUT 1
WHERE [Id] = @p3;
DELETE FROM [Participants]
OUTPUT 1
WHERE [Id] = @p4;
DELETE FROM [Ranks]
OUTPUT 1
WHERE [Id] = @p5;
DELETE FROM [Ranks]
OUTPUT 1
WHERE [Id] = @p6;
DELETE FROM [Ranks]
OUTPUT 1
WHERE [Id] = @p7;
DELETE FROM [Ranks]
OUTPUT 1
WHERE [Id] = @p8;
DELETE FROM [Regions]
OUTPUT 1
WHERE [Id] = @p9;
DELETE FROM [Regions]
OUTPUT 1
WHERE [Id] = @p10;
DELETE FROM [ToDoItems]
OUTPUT 1
WHERE [Id] = @p11;
DELETE FROM [ToDoItems]
OUTPUT 1
WHERE [Id] = @p12;
DELETE FROM [ToDoItems]
OUTPUT 1
WHERE [Id] = @p13;
DELETE FROM [Users]
OUTPUT 1
WHERE [Id] = @p14;
DELETE FROM [Users]
OUTPUT 1
WHERE [Id] = @p15;
DELETE FROM [Users]
OUTPUT 1
WHERE [Id] = @p16;
DELETE FROM [Competitions]
OUTPUT 1
WHERE [Id] = @p17;
DELETE FROM [Projects]
OUTPUT 1
WHERE [Id] = @p18;
DELETE FROM [BirdTypes]
OUTPUT 1
WHERE [Id] = @p19;
2023-03-07 17:26:07.501 +07:00 [ERR] An exception occurred in the database while saving changes for context type 'BirdTournaments.Infrastructure.Data.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateConcurrencyException: The database operation was expected to affect 1 row(s), but actually affected 0 row(s); data may have been modified or deleted since entities were loaded. See http://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions.
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ThrowAggregateUpdateConcurrencyExceptionAsync(RelationalDataReader reader, Int32 commandIndex, Int32 expectedRowsAffected, Int32 rowsAffected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateConcurrencyException: The database operation was expected to affect 1 row(s), but actually affected 0 row(s); data may have been modified or deleted since entities were loaded. See http://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions.
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ThrowAggregateUpdateConcurrencyExceptionAsync(RelationalDataReader reader, Int32 commandIndex, Int32 expectedRowsAffected, Int32 rowsAffected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-03-07 17:26:22.491 +07:00 [ERR] An error occurred seeding the DB. The database operation was expected to affect 1 row(s), but actually affected 0 row(s); data may have been modified or deleted since entities were loaded. See http://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions.
Microsoft.EntityFrameworkCore.DbUpdateConcurrencyException: The database operation was expected to affect 1 row(s), but actually affected 0 row(s); data may have been modified or deleted since entities were loaded. See http://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions.
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ThrowAggregateUpdateConcurrencyExceptionAsync(RelationalDataReader reader, Int32 commandIndex, Int32 expectedRowsAffected, Int32 rowsAffected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at BirdTournaments.Infrastructure.Data.AppDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\Users\khang\source\repos\khangzxrr\BirdTournaments\src\BirdTournaments.Infrastructure\Data\AppDbContext.cs:line 48
   at BirdTournaments.Infrastructure.Data.AppDbContext.SaveChanges() in C:\Users\khang\source\repos\khangzxrr\BirdTournaments\src\BirdTournaments.Infrastructure\Data\AppDbContext.cs:line 66
   at BirdTournaments.Web.SeedData.PopulateTestData(AppDbContext dbContext) in C:\Users\khang\source\repos\khangzxrr\BirdTournaments\src\BirdTournaments.Web\SeedData.cs:line 136
   at BirdTournaments.Web.SeedData.Initialize(IServiceProvider serviceProvider) in C:\Users\khang\source\repos\khangzxrr\BirdTournaments\src\BirdTournaments.Web\SeedData.cs:line 92
   at Program.<Main>$(String[] args) in C:\Users\khang\source\repos\khangzxrr\BirdTournaments\src\BirdTournaments.Web\Program.cs:line 97
2023-03-07 17:26:22.664 +07:00 [INF] Now listening on: http://localhost:57679
2023-03-07 17:26:22.666 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-03-07 17:26:22.668 +07:00 [INF] Hosting environment: Development
2023-03-07 17:26:22.669 +07:00 [INF] Content root path: C:\Users\khang\source\repos\khangzxrr\BirdTournaments\src\BirdTournaments.Web
2023-03-07 17:26:23.366 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/ - -
2023-03-07 17:26:23.419 +07:00 [WRN] Failed to determine the https port for redirect.
2023-03-07 17:26:23.450 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/ - - - 404 0 - 86.2872ms
2023-03-07 17:26:30.077 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/swagger/index.html - -
2023-03-07 17:26:30.255 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/_framework/aspnetcore-browser-refresh.js - -
2023-03-07 17:26:30.257 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/swagger/index.html - - - 200 - text/html;charset=utf-8 180.3997ms
2023-03-07 17:26:30.260 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/_framework/aspnetcore-browser-refresh.js - - - 200 12008 application/javascript;+charset=utf-8 4.8430ms
2023-03-07 17:26:30.266 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/_vs/browserLink - -
2023-03-07 17:26:30.280 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 14.6230ms
2023-03-07 17:26:30.406 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/swagger/v1/swagger.json - -
2023-03-07 17:26:30.512 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 105.5424ms
2023-03-07 17:26:35.194 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/Competitions - -
2023-03-07 17:26:35.197 +07:00 [INF] Executing endpoint 'BirdTournaments.Web.Endpoints.CompetitionEndpoints.List.HandleAsync (BirdTournaments.Web)'
2023-03-07 17:26:35.221 +07:00 [INF] Route matched with {action = "Handle", controller = "List"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BirdTournaments.Web.Endpoints.CompetitionEndpoints.CompetitionListResponse]] HandleAsync(System.Threading.CancellationToken) on controller BirdTournaments.Web.Endpoints.CompetitionEndpoints.List (BirdTournaments.Web).
2023-03-07 17:26:35.484 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[BirdTypeId], [c].[Date], [c].[ModeratorId], [c].[PlaceId], [c].[Status], [b].[Id], [p].[Id], [p0].[Id], [p0].[BirdId], [p0].[BirdOwnerId], [p0].[CompetitionId], [p0].[EloGain], [p0].[Status], [p0].[SubmitUrl], [b].[Name], [p].[Address], [p].[RegionId]
FROM [Competitions] AS [c]
INNER JOIN [BirdTypes] AS [b] ON [c].[BirdTypeId] = [b].[Id]
INNER JOIN [Places] AS [p] ON [c].[PlaceId] = [p].[Id]
LEFT JOIN [Participants] AS [p0] ON [c].[Id] = [p0].[CompetitionId]
WHERE [c].[Status] = 0
ORDER BY [c].[Id], [b].[Id], [p].[Id]
2023-03-07 17:27:16.846 +07:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-03-07 17:27:16.908 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-03-07 17:27:16.913 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-03-07 17:27:16.916 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-03-07 17:27:16.935 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-03-07 17:27:16.950 +07:00 [INF] No migrations were applied. The database is already up to date.
2023-03-07 17:27:16.954 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-03-07 17:27:16.959 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2023-03-07 17:27:17.180 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Name], [p].[Priority]
FROM [Projects] AS [p]
2023-03-07 17:27:17.273 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[ContributorId], [t].[Description], [t].[IsDone], [t].[ProjectId], [t].[Title]
FROM [ToDoItems] AS [t]
2023-03-07 17:27:17.306 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name]
FROM [Contributors] AS [c]
2023-03-07 17:27:17.321 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[MinElo], [r].[Name]
FROM [Ranks] AS [r]
2023-03-07 17:27:17.338 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[Hash], [u].[Role], [u].[Salt], [u].[UserName], [u].[Verify]
FROM [Users] AS [u]
2023-03-07 17:27:17.362 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[Name]
FROM [BirdTypes] AS [b]
2023-03-07 17:27:17.377 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[Name]
FROM [Regions] AS [r]
2023-03-07 17:27:17.390 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[BirdId], [p].[BirdOwnerId], [p].[CompetitionId], [p].[EloGain], [p].[Status], [p].[SubmitUrl]
FROM [Participants] AS [p]
2023-03-07 17:27:17.419 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[BirdTypeId], [c].[Date], [c].[ModeratorId], [c].[PlaceId], [c].[Status]
FROM [Competitions] AS [c]
2023-03-07 17:27:17.631 +07:00 [INF] Executed DbCommand (34ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [BirdTypes]
OUTPUT 1
WHERE [Id] = @p0;
DELETE FROM [BirdTypes]
OUTPUT 1
WHERE [Id] = @p1;
DELETE FROM [Contributors]
OUTPUT 1
WHERE [Id] = @p2;
DELETE FROM [Contributors]
OUTPUT 1
WHERE [Id] = @p3;
DELETE FROM [Participants]
OUTPUT 1
WHERE [Id] = @p4;
DELETE FROM [Ranks]
OUTPUT 1
WHERE [Id] = @p5;
DELETE FROM [Ranks]
OUTPUT 1
WHERE [Id] = @p6;
DELETE FROM [Ranks]
OUTPUT 1
WHERE [Id] = @p7;
DELETE FROM [Ranks]
OUTPUT 1
WHERE [Id] = @p8;
DELETE FROM [Regions]
OUTPUT 1
WHERE [Id] = @p9;
DELETE FROM [Regions]
OUTPUT 1
WHERE [Id] = @p10;
DELETE FROM [ToDoItems]
OUTPUT 1
WHERE [Id] = @p11;
DELETE FROM [ToDoItems]
OUTPUT 1
WHERE [Id] = @p12;
DELETE FROM [ToDoItems]
OUTPUT 1
WHERE [Id] = @p13;
DELETE FROM [Users]
OUTPUT 1
WHERE [Id] = @p14;
DELETE FROM [Users]
OUTPUT 1
WHERE [Id] = @p15;
DELETE FROM [Users]
OUTPUT 1
WHERE [Id] = @p16;
DELETE FROM [Competitions]
OUTPUT 1
WHERE [Id] = @p17;
DELETE FROM [Projects]
OUTPUT 1
WHERE [Id] = @p18;
DELETE FROM [BirdTypes]
OUTPUT 1
WHERE [Id] = @p19;
2023-03-07 17:27:17.687 +07:00 [ERR] An exception occurred in the database while saving changes for context type 'BirdTournaments.Infrastructure.Data.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateConcurrencyException: The database operation was expected to affect 1 row(s), but actually affected 0 row(s); data may have been modified or deleted since entities were loaded. See http://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions.
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ThrowAggregateUpdateConcurrencyExceptionAsync(RelationalDataReader reader, Int32 commandIndex, Int32 expectedRowsAffected, Int32 rowsAffected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateConcurrencyException: The database operation was expected to affect 1 row(s), but actually affected 0 row(s); data may have been modified or deleted since entities were loaded. See http://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions.
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ThrowAggregateUpdateConcurrencyExceptionAsync(RelationalDataReader reader, Int32 commandIndex, Int32 expectedRowsAffected, Int32 rowsAffected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-03-07 17:27:21.897 +07:00 [ERR] An error occurred seeding the DB. The database operation was expected to affect 1 row(s), but actually affected 0 row(s); data may have been modified or deleted since entities were loaded. See http://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions.
Microsoft.EntityFrameworkCore.DbUpdateConcurrencyException: The database operation was expected to affect 1 row(s), but actually affected 0 row(s); data may have been modified or deleted since entities were loaded. See http://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions.
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ThrowAggregateUpdateConcurrencyExceptionAsync(RelationalDataReader reader, Int32 commandIndex, Int32 expectedRowsAffected, Int32 rowsAffected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at BirdTournaments.Infrastructure.Data.AppDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\Users\khang\source\repos\khangzxrr\BirdTournaments\src\BirdTournaments.Infrastructure\Data\AppDbContext.cs:line 48
   at BirdTournaments.Infrastructure.Data.AppDbContext.SaveChanges() in C:\Users\khang\source\repos\khangzxrr\BirdTournaments\src\BirdTournaments.Infrastructure\Data\AppDbContext.cs:line 66
   at BirdTournaments.Web.SeedData.PopulateTestData(AppDbContext dbContext) in C:\Users\khang\source\repos\khangzxrr\BirdTournaments\src\BirdTournaments.Web\SeedData.cs:line 136
   at BirdTournaments.Web.SeedData.Initialize(IServiceProvider serviceProvider) in C:\Users\khang\source\repos\khangzxrr\BirdTournaments\src\BirdTournaments.Web\SeedData.cs:line 92
   at Program.<Main>$(String[] args) in C:\Users\khang\source\repos\khangzxrr\BirdTournaments\src\BirdTournaments.Web\Program.cs:line 97
2023-03-07 17:27:22.043 +07:00 [INF] Now listening on: http://localhost:57679
2023-03-07 17:27:22.046 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-03-07 17:27:22.048 +07:00 [INF] Hosting environment: Development
2023-03-07 17:27:22.049 +07:00 [INF] Content root path: C:\Users\khang\source\repos\khangzxrr\BirdTournaments\src\BirdTournaments.Web
2023-03-07 17:27:22.586 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/ - -
2023-03-07 17:27:22.640 +07:00 [WRN] Failed to determine the https port for redirect.
2023-03-07 17:27:22.671 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/ - - - 404 0 - 86.1906ms
2023-03-07 17:27:24.647 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/swagger/index.html - -
2023-03-07 17:27:24.813 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/_framework/aspnetcore-browser-refresh.js - -
2023-03-07 17:27:24.815 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/swagger/index.html - - - 200 - text/html;charset=utf-8 167.9842ms
2023-03-07 17:27:24.818 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/_framework/aspnetcore-browser-refresh.js - - - 200 12008 application/javascript;+charset=utf-8 5.1400ms
2023-03-07 17:27:24.823 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/_vs/browserLink - -
2023-03-07 17:27:24.838 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 15.6873ms
2023-03-07 17:27:24.956 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/swagger/v1/swagger.json - -
2023-03-07 17:27:25.065 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 108.6599ms
2023-03-07 17:27:42.034 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/Competitions - -
2023-03-07 17:27:42.038 +07:00 [INF] Executing endpoint 'BirdTournaments.Web.Endpoints.CompetitionEndpoints.List.HandleAsync (BirdTournaments.Web)'
2023-03-07 17:27:42.062 +07:00 [INF] Route matched with {action = "Handle", controller = "List"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BirdTournaments.Web.Endpoints.CompetitionEndpoints.CompetitionListResponse]] HandleAsync(System.Threading.CancellationToken) on controller BirdTournaments.Web.Endpoints.CompetitionEndpoints.List (BirdTournaments.Web).
2023-03-07 17:27:42.364 +07:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[BirdTypeId], [c].[Date], [c].[ModeratorId], [c].[PlaceId], [c].[Status], [b].[Id], [b].[Name], [p].[Id], [p].[Address], [p].[RegionId], [t].[Id], [t].[BirdId], [t].[BirdOwnerId], [t].[CompetitionId], [t].[EloGain], [t].[Status], [t].[SubmitUrl], [t].[Id0], [t].[BirdOwnerId0], [t].[BirdTypeId], [t].[Elo], [t].[Image], [t].[Name], [t].[RankId]
FROM [Competitions] AS [c]
INNER JOIN [BirdTypes] AS [b] ON [c].[BirdTypeId] = [b].[Id]
INNER JOIN [Places] AS [p] ON [c].[PlaceId] = [p].[Id]
LEFT JOIN (
    SELECT [p0].[Id], [p0].[BirdId], [p0].[BirdOwnerId], [p0].[CompetitionId], [p0].[EloGain], [p0].[Status], [p0].[SubmitUrl], [b0].[Id] AS [Id0], [b0].[BirdOwnerId] AS [BirdOwnerId0], [b0].[BirdTypeId], [b0].[Elo], [b0].[Image], [b0].[Name], [b0].[RankId]
    FROM [Participants] AS [p0]
    INNER JOIN [Birds] AS [b0] ON [p0].[BirdId] = [b0].[Id]
) AS [t] ON [c].[Id] = [t].[CompetitionId]
WHERE [c].[Status] = 0
ORDER BY [c].[Id], [b].[Id], [p].[Id], [t].[Id]
2023-03-07 17:27:42.414 +07:00 [INF] Executing OkObjectResult, writing value of type 'BirdTournaments.Web.Endpoints.CompetitionEndpoints.CompetitionListResponse'.
2023-03-07 17:27:42.434 +07:00 [INF] Executed action BirdTournaments.Web.Endpoints.CompetitionEndpoints.List.HandleAsync (BirdTournaments.Web) in 365.3574ms
2023-03-07 17:27:42.439 +07:00 [INF] Executed endpoint 'BirdTournaments.Web.Endpoints.CompetitionEndpoints.List.HandleAsync (BirdTournaments.Web)'
2023-03-07 17:27:42.444 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/Competitions - - - 200 - application/json;+charset=utf-8 410.1372ms
2023-03-07 17:28:27.031 +07:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-03-07 17:28:27.118 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-03-07 17:28:27.123 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-03-07 17:28:27.126 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-03-07 17:28:27.144 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-03-07 17:28:27.167 +07:00 [INF] No migrations were applied. The database is already up to date.
2023-03-07 17:28:27.171 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-03-07 17:28:27.175 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2023-03-07 17:28:27.302 +07:00 [INF] Now listening on: http://localhost:57679
2023-03-07 17:28:27.305 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-03-07 17:28:27.306 +07:00 [INF] Hosting environment: Development
2023-03-07 17:28:27.307 +07:00 [INF] Content root path: C:\Users\khang\source\repos\khangzxrr\BirdTournaments\src\BirdTournaments.Web
2023-03-07 17:28:27.588 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/ - -
2023-03-07 17:28:27.654 +07:00 [WRN] Failed to determine the https port for redirect.
2023-03-07 17:28:27.701 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/ - - - 404 0 - 117.3337ms
2023-03-07 17:28:30.323 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/swagger/index.html - -
2023-03-07 17:28:30.490 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/_framework/aspnetcore-browser-refresh.js - -
2023-03-07 17:28:30.492 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/swagger/index.html - - - 200 - text/html;charset=utf-8 168.9524ms
2023-03-07 17:28:30.494 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/_framework/aspnetcore-browser-refresh.js - - - 200 12008 application/javascript;+charset=utf-8 4.6068ms
2023-03-07 17:28:30.500 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/_vs/browserLink - -
2023-03-07 17:28:30.527 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 27.0058ms
2023-03-07 17:28:30.635 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/swagger/v1/swagger.json - -
2023-03-07 17:28:30.745 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 109.8125ms
2023-03-07 17:28:34.653 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/Competitions - -
2023-03-07 17:28:34.659 +07:00 [INF] Executing endpoint 'BirdTournaments.Web.Endpoints.CompetitionEndpoints.List.HandleAsync (BirdTournaments.Web)'
2023-03-07 17:28:34.688 +07:00 [INF] Route matched with {action = "Handle", controller = "List"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BirdTournaments.Web.Endpoints.CompetitionEndpoints.CompetitionListResponse]] HandleAsync(System.Threading.CancellationToken) on controller BirdTournaments.Web.Endpoints.CompetitionEndpoints.List (BirdTournaments.Web).
2023-03-07 17:28:35.168 +07:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[BirdTypeId], [c].[Date], [c].[ModeratorId], [c].[PlaceId], [c].[Status], [b].[Id], [b].[Name], [p].[Id], [p].[Address], [p].[RegionId], [t].[Id], [t].[BirdId], [t].[BirdOwnerId], [t].[CompetitionId], [t].[EloGain], [t].[Status], [t].[SubmitUrl], [t].[Id0], [t].[BirdOwnerId0], [t].[BirdTypeId], [t].[Elo], [t].[Image], [t].[Name], [t].[RankId]
FROM [Competitions] AS [c]
INNER JOIN [BirdTypes] AS [b] ON [c].[BirdTypeId] = [b].[Id]
INNER JOIN [Places] AS [p] ON [c].[PlaceId] = [p].[Id]
LEFT JOIN (
    SELECT [p0].[Id], [p0].[BirdId], [p0].[BirdOwnerId], [p0].[CompetitionId], [p0].[EloGain], [p0].[Status], [p0].[SubmitUrl], [b0].[Id] AS [Id0], [b0].[BirdOwnerId] AS [BirdOwnerId0], [b0].[BirdTypeId], [b0].[Elo], [b0].[Image], [b0].[Name], [b0].[RankId]
    FROM [Participants] AS [p0]
    INNER JOIN [Birds] AS [b0] ON [p0].[BirdId] = [b0].[Id]
) AS [t] ON [c].[Id] = [t].[CompetitionId]
WHERE [c].[Status] = 0
ORDER BY [c].[Id], [b].[Id], [p].[Id], [t].[Id]
2023-03-07 17:28:35.359 +07:00 [INF] Executing OkObjectResult, writing value of type 'BirdTournaments.Web.Endpoints.CompetitionEndpoints.CompetitionListResponse'.
2023-03-07 17:28:35.386 +07:00 [INF] Executed action BirdTournaments.Web.Endpoints.CompetitionEndpoints.List.HandleAsync (BirdTournaments.Web) in 690.2978ms
2023-03-07 17:28:35.388 +07:00 [INF] Executed endpoint 'BirdTournaments.Web.Endpoints.CompetitionEndpoints.List.HandleAsync (BirdTournaments.Web)'
2023-03-07 17:28:35.394 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/Competitions - - - 200 - application/json;+charset=utf-8 740.8837ms
2023-03-07 17:29:52.475 +07:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-03-07 17:29:52.552 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-03-07 17:29:52.556 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-03-07 17:29:52.559 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-03-07 17:29:52.576 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-03-07 17:29:52.592 +07:00 [INF] No migrations were applied. The database is already up to date.
2023-03-07 17:29:52.595 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-03-07 17:29:52.600 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2023-03-07 17:29:52.740 +07:00 [INF] Now listening on: http://localhost:57679
2023-03-07 17:29:52.743 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-03-07 17:29:52.744 +07:00 [INF] Hosting environment: Development
2023-03-07 17:29:52.745 +07:00 [INF] Content root path: C:\Users\khang\source\repos\khangzxrr\BirdTournaments\src\BirdTournaments.Web
2023-03-07 17:29:53.262 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/ - -
2023-03-07 17:29:53.342 +07:00 [WRN] Failed to determine the https port for redirect.
2023-03-07 17:29:53.388 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/ - - - 404 0 - 125.8204ms
2023-03-07 17:29:55.384 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/swagger/index.html - -
2023-03-07 17:29:55.547 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/_framework/aspnetcore-browser-refresh.js - -
2023-03-07 17:29:55.549 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/swagger/index.html - - - 200 - text/html;charset=utf-8 164.8658ms
2023-03-07 17:29:55.551 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/_framework/aspnetcore-browser-refresh.js - - - 200 12008 application/javascript;+charset=utf-8 4.0919ms
2023-03-07 17:29:55.558 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/_vs/browserLink - -
2023-03-07 17:29:55.583 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 25.2865ms
2023-03-07 17:29:55.679 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/swagger/v1/swagger.json - -
2023-03-07 17:29:55.792 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 112.5409ms
2023-03-07 17:29:59.427 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/Competitions - -
2023-03-07 17:29:59.433 +07:00 [INF] Executing endpoint 'BirdTournaments.Web.Endpoints.CompetitionEndpoints.List.HandleAsync (BirdTournaments.Web)'
2023-03-07 17:29:59.464 +07:00 [INF] Route matched with {action = "Handle", controller = "List"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BirdTournaments.Web.Endpoints.CompetitionEndpoints.CompetitionListResponse]] HandleAsync(System.Threading.CancellationToken) on controller BirdTournaments.Web.Endpoints.CompetitionEndpoints.List (BirdTournaments.Web).
2023-03-07 17:29:59.925 +07:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[BirdTypeId], [c].[Date], [c].[ModeratorId], [c].[PlaceId], [c].[Status], [b].[Id], [b].[Name], [p].[Id], [p].[Address], [p].[RegionId], [t].[Id], [t].[BirdId], [t].[BirdOwnerId], [t].[CompetitionId], [t].[EloGain], [t].[Status], [t].[SubmitUrl], [t].[Id0], [t].[BirdOwnerId0], [t].[BirdTypeId], [t].[Elo], [t].[Image], [t].[Name], [t].[RankId]
FROM [Competitions] AS [c]
INNER JOIN [BirdTypes] AS [b] ON [c].[BirdTypeId] = [b].[Id]
INNER JOIN [Places] AS [p] ON [c].[PlaceId] = [p].[Id]
LEFT JOIN (
    SELECT [p0].[Id], [p0].[BirdId], [p0].[BirdOwnerId], [p0].[CompetitionId], [p0].[EloGain], [p0].[Status], [p0].[SubmitUrl], [b0].[Id] AS [Id0], [b0].[BirdOwnerId] AS [BirdOwnerId0], [b0].[BirdTypeId], [b0].[Elo], [b0].[Image], [b0].[Name], [b0].[RankId]
    FROM [Participants] AS [p0]
    INNER JOIN [Birds] AS [b0] ON [p0].[BirdId] = [b0].[Id]
) AS [t] ON [c].[Id] = [t].[CompetitionId]
WHERE [c].[Status] = 0
ORDER BY [c].[Id], [b].[Id], [p].[Id], [t].[Id]
2023-03-07 17:30:00.088 +07:00 [INF] Executing OkObjectResult, writing value of type 'BirdTournaments.Web.Endpoints.CompetitionEndpoints.CompetitionListResponse'.
2023-03-07 17:30:00.106 +07:00 [INF] Executed action BirdTournaments.Web.Endpoints.CompetitionEndpoints.List.HandleAsync (BirdTournaments.Web) in 635.3525ms
2023-03-07 17:30:00.110 +07:00 [INF] Executed endpoint 'BirdTournaments.Web.Endpoints.CompetitionEndpoints.List.HandleAsync (BirdTournaments.Web)'
2023-03-07 17:30:00.116 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/Competitions - - - 200 - application/json;+charset=utf-8 688.9052ms
2023-03-07 17:30:50.391 +07:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-03-07 17:30:50.460 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-03-07 17:30:50.465 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-03-07 17:30:50.468 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-03-07 17:30:50.484 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-03-07 17:30:50.502 +07:00 [INF] No migrations were applied. The database is already up to date.
2023-03-07 17:30:50.507 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-03-07 17:30:50.513 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2023-03-07 17:30:50.654 +07:00 [INF] Now listening on: http://localhost:57679
2023-03-07 17:30:50.657 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-03-07 17:30:50.659 +07:00 [INF] Hosting environment: Development
2023-03-07 17:30:50.660 +07:00 [INF] Content root path: C:\Users\khang\source\repos\khangzxrr\BirdTournaments\src\BirdTournaments.Web
2023-03-07 17:30:51.442 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/ - -
2023-03-07 17:30:51.527 +07:00 [WRN] Failed to determine the https port for redirect.
2023-03-07 17:30:51.569 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/ - - - 404 0 - 131.6412ms
2023-03-07 17:30:53.767 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/swagger/index.html - -
2023-03-07 17:30:53.938 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/_framework/aspnetcore-browser-refresh.js - -
2023-03-07 17:30:53.939 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/swagger/index.html - - - 200 - text/html;charset=utf-8 171.9916ms
2023-03-07 17:30:53.942 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/_framework/aspnetcore-browser-refresh.js - - - 200 12008 application/javascript;+charset=utf-8 3.8668ms
2023-03-07 17:30:53.949 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/_vs/browserLink - -
2023-03-07 17:30:53.964 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 15.6508ms
2023-03-07 17:30:54.069 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/swagger/v1/swagger.json - -
2023-03-07 17:30:54.185 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 116.0347ms
