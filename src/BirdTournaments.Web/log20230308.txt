2023-03-08 00:35:02.730 +07:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-03-08 00:35:02.786 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-03-08 00:35:02.789 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-03-08 00:35:02.791 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-03-08 00:35:02.830 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-03-08 00:35:02.848 +07:00 [INF] No migrations were applied. The database is already up to date.
2023-03-08 00:35:02.852 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-03-08 00:35:02.870 +07:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2023-03-08 00:35:02.905 +07:00 [INF] User profile is available. Using 'C:\Users\khang\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-03-08 00:35:03.043 +07:00 [INF] Now listening on: http://localhost:57679
2023-03-08 00:35:03.047 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-03-08 00:35:03.049 +07:00 [INF] Hosting environment: Development
2023-03-08 00:35:03.050 +07:00 [INF] Content root path: C:\Users\khang\source\repos\khangzxrr\BirdTournaments\src\BirdTournaments.Web
2023-03-08 00:35:03.395 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/swagger/index.html - -
2023-03-08 00:35:03.468 +07:00 [WRN] Failed to determine the https port for redirect.
2023-03-08 00:35:03.746 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/_vs/browserLink - -
2023-03-08 00:35:03.746 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/_framework/aspnetcore-browser-refresh.js - -
2023-03-08 00:35:03.798 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/_framework/aspnetcore-browser-refresh.js - - - 200 12008 application/javascript;+charset=utf-8 42.1540ms
2023-03-08 00:35:03.800 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/swagger/index.html - - - 200 - text/html;charset=utf-8 407.0798ms
2023-03-08 00:35:03.804 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 59.2692ms
2023-03-08 00:35:04.237 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/swagger/v1/swagger.json - -
2023-03-08 00:35:04.392 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 154.7380ms
2023-03-08 00:35:13.592 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:57679/Login application/json 53
2023-03-08 00:35:13.597 +07:00 [INF] CORS policy execution failed.
2023-03-08 00:35:13.599 +07:00 [INF] Request origin http://localhost:57679 does not have permission to access the resource.
2023-03-08 00:35:13.605 +07:00 [INF] Executing endpoint 'BirdTournaments.Web.Endpoints.AuthenticationEndpoints.Authen.HandleAsync (BirdTournaments.Web)'
2023-03-08 00:35:13.633 +07:00 [INF] Route matched with {action = "Handle", controller = "Authen"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BirdTournaments.Web.Endpoints.AuthenticationEndpoints.AuthenResponse]] HandleAsync(BirdTournaments.Web.Endpoints.AuthenticationEndpoints.AuthenRequest, System.Threading.CancellationToken) on controller BirdTournaments.Web.Endpoints.AuthenticationEndpoints.Authen (BirdTournaments.Web).
2023-03-08 00:35:14.088 +07:00 [INF] Executed DbCommand (33ms) [Parameters=[@__username_0='?' (Size = 100), @__password_1='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Hash], [u].[Role], [u].[Salt], [u].[UserName], [u].[Verify], [b].[Id], [b].[Address], [b].[Name], [b].[PhoneNumber], [b].[UserId]
FROM [Users] AS [u]
LEFT JOIN [BirdOwners] AS [b] ON [u].[Id] = [b].[UserId]
WHERE [u].[UserName] = @__username_0 AND [u].[Hash] = @__password_1
2023-03-08 00:35:14.341 +07:00 [INF] Executing OkObjectResult, writing value of type 'BirdTournaments.Web.Endpoints.AuthenticationEndpoints.AuthenResponse'.
2023-03-08 00:35:14.350 +07:00 [INF] Executed action BirdTournaments.Web.Endpoints.AuthenticationEndpoints.Authen.HandleAsync (BirdTournaments.Web) in 710.3364ms
2023-03-08 00:35:14.353 +07:00 [INF] Executed endpoint 'BirdTournaments.Web.Endpoints.AuthenticationEndpoints.Authen.HandleAsync (BirdTournaments.Web)'
2023-03-08 00:35:14.358 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:57679/Login application/json 53 - 200 - application/json;+charset=utf-8 766.1993ms
2023-03-08 00:35:26.094 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:57679/Competitions application/json 79
2023-03-08 00:35:26.096 +07:00 [INF] CORS policy execution failed.
2023-03-08 00:35:26.098 +07:00 [INF] Request origin http://localhost:57679 does not have permission to access the resource.
2023-03-08 00:35:26.150 +07:00 [INF] Executing endpoint 'BirdTournaments.Web.Endpoints.CompetitionEndpoints.Create.HandleAsync (BirdTournaments.Web)'
2023-03-08 00:35:26.156 +07:00 [INF] Route matched with {action = "Handle", controller = "Create"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BirdTournaments.Web.Endpoints.CompetitionEndpoints.CompetitionRecord]] HandleAsync(BirdTournaments.Web.Endpoints.CompetitionEndpoints.CreateCompetitionRequest, System.Threading.CancellationToken) on controller BirdTournaments.Web.Endpoints.CompetitionEndpoints.Create (BirdTournaments.Web).
2023-03-08 00:35:26.250 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2023-03-08 00:35:26.253 +07:00 [INF] Executed action BirdTournaments.Web.Endpoints.CompetitionEndpoints.Create.HandleAsync (BirdTournaments.Web) in 93.4934ms
2023-03-08 00:35:26.256 +07:00 [INF] Executed endpoint 'BirdTournaments.Web.Endpoints.CompetitionEndpoints.Create.HandleAsync (BirdTournaments.Web)'
2023-03-08 00:35:26.258 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:57679/Competitions application/json 79 - 400 - text/plain;+charset=utf-8 163.7740ms
2023-03-08 00:35:32.946 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:57679/Competitions application/json 83
2023-03-08 00:35:32.949 +07:00 [INF] CORS policy execution failed.
2023-03-08 00:35:32.950 +07:00 [INF] Request origin http://localhost:57679 does not have permission to access the resource.
2023-03-08 00:35:32.954 +07:00 [INF] Executing endpoint 'BirdTournaments.Web.Endpoints.CompetitionEndpoints.Create.HandleAsync (BirdTournaments.Web)'
2023-03-08 00:35:32.956 +07:00 [INF] Route matched with {action = "Handle", controller = "Create"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BirdTournaments.Web.Endpoints.CompetitionEndpoints.CompetitionRecord]] HandleAsync(BirdTournaments.Web.Endpoints.CompetitionEndpoints.CreateCompetitionRequest, System.Threading.CancellationToken) on controller BirdTournaments.Web.Endpoints.CompetitionEndpoints.Create (BirdTournaments.Web).
2023-03-08 00:35:33.029 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__name_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[Name], [m].[UserId]
FROM [Moderators] AS [m]
WHERE [m].[Name] = @__name_0
2023-03-08 00:35:33.069 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Address], [p].[RegionId]
FROM [Places] AS [p]
WHERE [p].[Id] = @__p_0
2023-03-08 00:35:33.091 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[Name]
FROM [BirdTypes] AS [b]
WHERE [b].[Id] = @__p_0
2023-03-08 00:35:33.105 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[BirdOwnerId], [b].[BirdTypeId], [b].[Elo], [b].[Image], [b].[Name], [b].[RankId]
FROM [Birds] AS [b]
WHERE [b].[Id] = @__p_0
2023-03-08 00:35:33.118 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[Address], [b].[Name], [b].[PhoneNumber], [b].[UserId]
FROM [BirdOwners] AS [b]
WHERE [b].[Id] = @__p_0
2023-03-08 00:35:33.229 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2023-03-08 00:35:33.231 +07:00 [INF] Executed action BirdTournaments.Web.Endpoints.CompetitionEndpoints.Create.HandleAsync (BirdTournaments.Web) in 272.7391ms
2023-03-08 00:35:33.233 +07:00 [INF] Executed endpoint 'BirdTournaments.Web.Endpoints.CompetitionEndpoints.Create.HandleAsync (BirdTournaments.Web)'
2023-03-08 00:35:33.236 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:57679/Competitions application/json 83 - 400 - text/plain;+charset=utf-8 289.7589ms
2023-03-08 00:36:14.321 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:57679/Competitions application/json 83
2023-03-08 00:36:14.334 +07:00 [INF] CORS policy execution failed.
2023-03-08 00:36:14.336 +07:00 [INF] Request origin http://localhost:57679 does not have permission to access the resource.
2023-03-08 00:36:14.338 +07:00 [INF] Executing endpoint 'BirdTournaments.Web.Endpoints.CompetitionEndpoints.Create.HandleAsync (BirdTournaments.Web)'
2023-03-08 00:36:14.340 +07:00 [INF] Route matched with {action = "Handle", controller = "Create"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BirdTournaments.Web.Endpoints.CompetitionEndpoints.CompetitionRecord]] HandleAsync(BirdTournaments.Web.Endpoints.CompetitionEndpoints.CreateCompetitionRequest, System.Threading.CancellationToken) on controller BirdTournaments.Web.Endpoints.CompetitionEndpoints.Create (BirdTournaments.Web).
2023-03-08 00:36:14.353 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__name_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[Name], [m].[UserId]
FROM [Moderators] AS [m]
WHERE [m].[Name] = @__name_0
2023-03-08 00:36:14.361 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Address], [p].[RegionId]
FROM [Places] AS [p]
WHERE [p].[Id] = @__p_0
2023-03-08 00:36:14.376 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[Name]
FROM [BirdTypes] AS [b]
WHERE [b].[Id] = @__p_0
2023-03-08 00:36:14.391 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[BirdOwnerId], [b].[BirdTypeId], [b].[Elo], [b].[Image], [b].[Name], [b].[RankId]
FROM [Birds] AS [b]
WHERE [b].[Id] = @__p_0
2023-03-08 00:36:14.422 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[Address], [b].[Name], [b].[PhoneNumber], [b].[UserId]
FROM [BirdOwners] AS [b]
WHERE [b].[Id] = @__p_0
2023-03-08 00:36:14.492 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2023-03-08 00:36:14.494 +07:00 [INF] Executed action BirdTournaments.Web.Endpoints.CompetitionEndpoints.Create.HandleAsync (BirdTournaments.Web) in 150.5222ms
2023-03-08 00:36:14.496 +07:00 [INF] Executed endpoint 'BirdTournaments.Web.Endpoints.CompetitionEndpoints.Create.HandleAsync (BirdTournaments.Web)'
2023-03-08 00:36:14.497 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:57679/Competitions application/json 83 - 400 - text/plain;+charset=utf-8 175.5264ms
2023-03-08 00:36:18.517 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:57679/Competitions application/json 83
2023-03-08 00:36:18.518 +07:00 [INF] CORS policy execution failed.
2023-03-08 00:36:18.520 +07:00 [INF] Request origin http://localhost:57679 does not have permission to access the resource.
2023-03-08 00:36:18.522 +07:00 [INF] Executing endpoint 'BirdTournaments.Web.Endpoints.CompetitionEndpoints.Create.HandleAsync (BirdTournaments.Web)'
2023-03-08 00:36:18.523 +07:00 [INF] Route matched with {action = "Handle", controller = "Create"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BirdTournaments.Web.Endpoints.CompetitionEndpoints.CompetitionRecord]] HandleAsync(BirdTournaments.Web.Endpoints.CompetitionEndpoints.CreateCompetitionRequest, System.Threading.CancellationToken) on controller BirdTournaments.Web.Endpoints.CompetitionEndpoints.Create (BirdTournaments.Web).
2023-03-08 00:36:18.536 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__name_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[Name], [m].[UserId]
FROM [Moderators] AS [m]
WHERE [m].[Name] = @__name_0
2023-03-08 00:36:18.542 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Address], [p].[RegionId]
FROM [Places] AS [p]
WHERE [p].[Id] = @__p_0
2023-03-08 00:36:18.549 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[Name]
FROM [BirdTypes] AS [b]
WHERE [b].[Id] = @__p_0
2023-03-08 00:36:18.554 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[BirdOwnerId], [b].[BirdTypeId], [b].[Elo], [b].[Image], [b].[Name], [b].[RankId]
FROM [Birds] AS [b]
WHERE [b].[Id] = @__p_0
2023-03-08 00:36:18.560 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[Address], [b].[Name], [b].[PhoneNumber], [b].[UserId]
FROM [BirdOwners] AS [b]
WHERE [b].[Id] = @__p_0
2023-03-08 00:36:18.787 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Competitions] ([BirdTypeId], [Date], [ModeratorId], [PlaceId], [Status])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2023-03-08 00:36:18.827 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Participants] ([BirdId], [BirdOwnerId], [CompetitionId], [EloGain], [Status], [SubmitUrl])
OUTPUT INSERTED.[Id]
VALUES (@p5, @p6, @p7, @p8, @p9, @p10);
2023-03-08 00:36:18.862 +07:00 [INF] Executing OkObjectResult, writing value of type 'BirdTournaments.Web.Endpoints.CompetitionEndpoints.CreateCompetitionResponse'.
2023-03-08 00:36:18.874 +07:00 [INF] Executed action BirdTournaments.Web.Endpoints.CompetitionEndpoints.Create.HandleAsync (BirdTournaments.Web) in 347.5661ms
2023-03-08 00:36:18.876 +07:00 [INF] Executed endpoint 'BirdTournaments.Web.Endpoints.CompetitionEndpoints.Create.HandleAsync (BirdTournaments.Web)'
2023-03-08 00:36:18.877 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:57679/Competitions application/json 83 - 200 - application/json;+charset=utf-8 360.4714ms
